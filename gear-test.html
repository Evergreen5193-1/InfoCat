<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfoCat - Equipment Set Builder</title>
    <link rel="icon" type="image/png" href="infocat-smaller.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111118;
        }
        .brand-purple { color: #9D8DF1; }
        .bg-brand-purple { background-color: #9D8DF1; }
        .border-brand-purple { border-color: #9D8DF1; }
        .glassmorphism {
            background: rgba(30, 30, 40, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(157, 141, 241, 0.15);
        }
        .hero-bg {
            background-color: #111118;
            background-image: 
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(157, 141, 241, 0.1), transparent);
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a1a22; }
        ::-webkit-scrollbar-thumb { background: #4a4a5a; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #9D8DF1; }

        .rarity-Legendary { border-color: #ff8000; }
        .rarity-Epic { border-color: #a335ee; }
        .rarity-Elite { border-color: #0070dd; }
        .rarity-Advanced { border-color: #1eff00; }
        .rarity-Normal { border-color: #a0a0a0; }
        
        #gear-modal::-webkit-scrollbar, #stats-output::-webkit-scrollbar { width: 8px; }
        #gear-modal::-webkit-scrollbar-track, #stats-output::-webkit-scrollbar-track { background: #2a2a35; }
        #gear-modal::-webkit-scrollbar-thumb, #stats-output::-webkit-scrollbar-thumb { background: #5a5a6a; }
        #gear-modal::-webkit-scrollbar-thumb:hover, #stats-output::-webkit-scrollbar-thumb:hover { background: #9D8DF1; }
    </style>
</head>
<body class="text-gray-200">

    <!-- Header -->
    <header id="header" class="sticky top-0 left-0 right-0 z-40 transition-all duration-300 glassmorphism">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <a href="index.html" class="flex items-center space-x-3">
                    <img src="Infocat.png" alt="InfoCat Logo" class="h-12 w-12 rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/50x50/9D8DF1/ffffff?text=iC';">
                    <span class="hidden sm:block text-2xl font-bold text-white">InfoCat</span>
                </a>
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="index.html#trackers" class="hover:text-brand-purple transition-colors duration-300">Trackers</a>
                    <a href="calculators.html" class="hover:text-brand-purple transition-colors duration-300">Calculators</a>
                    <a href="about.html" class="hover:text-brand-purple transition-colors duration-300">About</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="text-center mb-12 hero-bg py-10 rounded-2xl">
            <h1 class="text-4xl md:text-5xl font-extrabold text-white">Equipment Set Builder</h1>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-400">Craft the perfect gear set, refine it, and see the total stats instantly.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Equipment Slots -->
            <div id="equipment-layout" class="lg:col-span-2 flex justify-center items-center py-8">
                 <p class="text-gray-500">Loading equipment data...</p>
            </div>

            <!-- Right Column: Stats Panel -->
            <div class="lg:col-span-1">
                <div id="stats-panel" class="p-6 glassmorphism rounded-2xl sticky top-24">
                    <h2 class="text-2xl font-bold text-white mb-4">Total Stats</h2>
                    <div id="stats-output" class="space-y-4 text-sm max-h-[60vh] overflow-y-auto pr-2">
                        <p class="text-gray-500">Select equipment to see total stats...</p>
                    </div>
                    <button id="reset-button" class="mt-6 w-full bg-red-600/80 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">Reset</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Gear Selection Modal -->
    <div id="modal-backdrop" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center p-4">
        <div id="modal-content" class="glassmorphism rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col">
            <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                <h2 id="modal-title" class="text-xl font-bold text-white">Select Equipment</h2>
                <button id="close-modal-button" class="text-gray-400 hover:text-white text-2xl font-bold">&times;</button>
            </div>
            <div class="p-4">
                <input type="text" id="search-input" class="w-full bg-gray-900/70 border-gray-700 rounded-lg py-2 px-4 text-white focus:ring-2 focus:ring-brand-purple focus:border-transparent" placeholder="Search for gear...">
            </div>
            <div id="gear-modal" class="p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto">
                <!-- Gear items will be populated here -->
            </div>
        </div>
    </div>
    
    <script>
        const rawCsvData = `"Equipment_Type","Gear_Name","Troop_Type","Set","Level","Gold_Cost","Archer_Attack","Archer_Defense","Archer_Health","Cavalry_Attack","Cavalry_Defense","Cavalry_Health","Commander_EXP_Gain","Damage_to_Barbarians","Gathering_Speed","Infantry_Attack","Infantry_Defense","Infantry_Health","March_Speed","Siege_Attack","Siege_Defense","Siege_Health","March_Speed__Siege_","March_Speed__Infantry_","March_Speed__Cavalry_","March_Speed__Archer_","Troop_Health","Troop_Defense","Troop_Attack","Leather","Iron_Ore","Ebony","Animal_Bone","Images","Iconic_1","Iconic_2","Iconic_3","Iconic_4","Iconic_5","Refined_Archer_Attack","Refined_Archer_Defense","Refined_Archer_Health","Refined_Cavalry_Attack","Refined_Cavalry_Defense","Refined_Cavalry_Health","Refined_Commander_EXP_Gain","Refined_Damage_to_Barbarians","Refined_Gathering_Speed","Refined_Infantry_Attack","Refined_Infantry_Defense","Refined_Infantry_Health","Refined_March_Speed","Refined_Siege_Attack","Refined_Siege_Defense","Refined_Siege_Health","Refined_March_Speed__Siege_","Refined_March_Speed__Infantry_","Refined_March_Speed__Cavalry_","Refined_March_Speed__Archer_","Refined_Troop_Health","Refined_Troop_Defense","Refined_Troop_Attack","Refined_Iconic_1","Refined_Iconic_2","Refined_Iconic_3","Refined_Iconic_4","Refined_Iconic_5","Accessory_Effect","Refined_Accessory_Effect"
"Weapon","Lance of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","5","","","20","","","","","","","","5","","","","","","","","","","","","60","15","15","","https://i.postimg.cc/pTShKQXy/weapon_cav_set.png","Cavalry Base Attack +3","Enemy Def Ignored +2%","Unit Cap +800","Damage to Field Troops +2%","Furious Strike","6.5","","","26","","","","","","","","6.5","","","","","","","","","","","","Cavalry Base Attack 4","Enemy Def Ignored 2.5%","Unit Cap 1040","Damage to Field Troops 2.5%","Furious Strike","",""
"Weapon","Shield of the Eternal Empire","Infantry","Infantry","Legendary","20000000","5","","","5","","","","","","20","","","","","","","","","","","","","","15","60","15","","https://i.postimg.cc/wTL2TM0D/weapon_inf_set.png","Infantry Base Attack +3","Enemy HP Ignored +2%","Unit Cap +800","Damage to Field Troops +2%","Furious Strike","6.5","","","6.5","","","","","","26","","","","","","","","","","","","","","Infantry Base Attack 4","Enemy HP Ignored 2.5%","Unit Cap 1040","Damage to Field Troops 2.5%","Furious Strike","",""
"Weapon","Dragon's Breath Bow","Archer","Archer","Legendary","20000000","","20","","","","5","","","","","","5","","","","","","","","","","","","15","15","60","","https://i.postimg.cc/5yFHgH6g/weapon_archer_set.png","Archer Base Attack +3","Enemy Def Ignored +2%","Unit Cap +800","Damage to Field Troops +2%","Furious Strike","","26","","","","6.5","","","","","","6.5","","","","","","","","","","","","Archer Base Attack 4","Enemy Def Ignored 2.5%","Unit Cap 1040","Damage to Field Troops 2.5%","Furious Strike","",""
"Weapon","Scepter of The Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","","3","","","","","15","30","30","30","","https://i.postimg.cc/xjWg2My0/weapon_leadership_set.png","","","","","","","","","","","","","","","","","","","","4","","","","19.5","","","","","","",""
"Weapon","Twilight Epiphany","Siege","","Legendary","30000000","","","","","","","","","","","","","","25","","","6","","","","","","","30","30","30","","https://i.postimg.cc/K8bNKbHw/weapon_siege_set.png","Troop Base Attack +3","Enemy Def Ignored +2%","Unit Cap +800","Damage to Field Troops +2%","Furious Strike","","","","","","","","","","","","","","32.5","","","8","","","","","","","Troop Base Attack 4","Enemy Def Ignored 2.5%","Unit Cap 1040","Damage to Field Troops 2.5%","Furious Strike","",""
"Weapon","Witch's Feathered Staff","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","15","","","","","","6","","3","","","","","","","","","","35","https://i.postimg.cc/K8bNKbHw/weapon_siege_set.png","","","","","","","","","","","","","","19.5","","","","","","8","","4","","","","","","","","","","","","",""
"Weapon","Sacred Dominion","Cavalry","","Legendary","30000000","","5","","25","","","","","","","","","","","","","","","","","","","","110","20","20","","https://i.postimg.cc/GpqsmwWF/weapon_cav_kvk.png","Cavalry Base Attack +3","Enemy Def Ignored +2.5%","Unit Cap +1,000","Damage to Field Troops +3%","Furious Strike","","6.5","","32.5","","","","","","","","","","","","","","","","","","","","Cavalry Base Attack 4","Enemy Def Ignored 3%","Unit Cap 1,040","Damage to Field Troops 4%","Furious Strike","",""
"Weapon","Hammer of the Sun and Moon","Infantry","","Legendary","30000000","","","5","","","","","","","25","","","","","","","","","","","","","","20","110","20","","https://i.postimg.cc/PfLK92D3/weapon_inf_kvk.png","Infantry Base Attack +3","Enemy HP Ignored +2.5%","Unit Cap +1,000","Damage to Field Troops +3%","Furious Strike","","","6.5","","","","","","","32.5","","","","","","","","","","","","","","","Infantry Base Attack 4","Enemy HP Ignored 3%","Unit Cap 1,040","Damage to Field Troops 4%","Furious Strike","",""
"Weapon","The Hydra's Blast","Archer","","Legendary","30000000","","25","","","5","","","","","","","","","","","","","","","","","","","20","20","110","","https://i.postimg.cc/Y90L4D7J/weapon_archer_kvk.png","Archer Base Attack +3","Enemy Def Ignored +3%","Unit Cap +1,000","Damage to Field Troops +2.5%","Furious Strike","","32.5","","","6.5","","","","","","","","","","","","","","","","","","","Archer Base Attack 4","Enemy Def Ignored 4%","Unit Cap 1,040","Damage to Field Troops 3%","Furious Strike","",""
"Weapon","Trial of the Lost Kingdom","Cavalry","","Legendary","10000000","5","","","","15","","","","","","","5","","","","","","","","","","","","30","15","","","https://i.postimg.cc/NFgs95RL/Screenshot_20250417-082539_Rise_of_Kingdoms-removebg-preview.webp","","","","","","6.5","","","","19.5","","","","","","","6.5","","","","","","","","","","","","","","","","","",""
"Weapon","Knight's Oathsworn Bow","Siege","","Epic","5000000","","","","","","","","","","","","","","13","","","2","","","","","","","30","30","30","","https://i.postimg.cc/8cVD8sZt/IMG-7370-removebg-preview.png","","","","","","","","","","","","","","","","","","","17","","","2.5","","","","","","","","","","","","",""
"Weapon","Sakura Fubuki","Infantry","","Epic","5000000","4","","","","","6","","","","13","","","","","","","","","","","","","","15","70","15","","https://i.postimg.cc/c1Q0RMJj/IMG-7368-removebg-preview.png","","","","","","5","","","","","8","","","","17","","","","","","","","","","","","","","","","","","","",""
"Weapon","Scepter of the Foresst Guardian","Gathering","","Epic","6000000","","","","6","","","","","10","","","","","","6","","","","","","","","","","","","35","https://i.postimg.cc/gksp5z8H/IMG-7371-removebg-preview.png","","","","","","","","","8","","","","","13","","","","","","8","","","","","","","","","","","","","","",""
"Weapon","Golden Age","Archer","","Epic","5000000","","13","","4","","","","","","","6","","","","","","","","","","","","","15","15","70","","https://i.postimg.cc/bNp83DDv/IMG-7369-removebg-preview.png","","","","","","","17","","5","","","","","","","8","","","","","","","","","","","","","","","","","","",""
"Weapon","Heart of the Saint","Cavalry","","Epic","5000000","","","6","","13","","","","","","","4","","","","","","","","","","","","70","15","15","","https://i.postimg.cc/NF7tQYVY/IMG-7367-removebg-preview.png","","","","","","","","8","","17","","","","","","","5","","","","","","","","","","","","","","","","","",""
"Weapon","Blazing Axe","Cavalry","","Elite","2000000","5","","","8","","","","","","3","","","","","","","","","","","","","","50","20","20","","https://i.postimg.cc/Cx6ghcvZ/IMG-7374-removebg-preview.png","","","","","","6.5","","","10.5","","","","","","4","","","","","","","","","","","","","","","","","","","",""
"Weapon","Staff of the Lost","Archer","","Elite","2000000","","8","","","3","","","","","","5","","","","","","","","","","","","","20","20","50","","https://i.postimg.cc/Bnv3frC9/IMG-7372-removebg-preview.png","","","","","","","10.5","","","4","","","","","","6.5","","","","","","","","","","","","","","","","","","",""
"Weapon","Gatekeeper's Shield","Infantry","","Elite","2000000","","","","","","5","3","","","","","8","","","","","","","","","","","","20","50","20","","https://i.postimg.cc/rp0LK5bf/IMG-7373-removebg-preview.png","","","","","","","","","","","6.5","4","","","","","10.5","","","","","","","","","","","","","","","","","",""
"Weapon","Blessed Blade","Infantry","","Advanced","500000","4","","","","","","","3","","","","6","","","","","","","","","","","","","60","20","","https://i.postimg.cc/C1bT4SwD/IMG-7376-removebg-preview.png","","","","","","5","","","","","","","4","","","","8","","","","","","","","","","","","","","","","","",""
"Weapon","Vanguard Halberd","Cavalry","","Advanced","750000","","","","","5","4","","","","","","","","","","","","","","","","","","110","","","","https://i.postimg.cc/1zk16f1s/IMG-7375-removebg-preview.png","","","","","","","","","","6.5","5","","","","","","","","","","","","","","","","","","","","","","","",""
"Weapon","Sharp Longsword","Cavalry","","Normal","100000","","","","","5","","","","2","","","","","","","","","","","","","","","100","","","","https://i.postimg.cc/Rh9rsy0Y/IMG-7377-removebg-preview.png","","","","","","","","","","6.5","","","","2.5","","","","","","","","","","","","","","","","","","","","",""
"Helmet","Gold Helm of the Eternal Empire","Infantry","Infantry","Legendary","20000000","","","4","","","3","","","","","11","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/KvS7VFxj/helmet_inf_set.png","Infantry Base Def +3","Infantry HP +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","","","5","","","4","","","","","14.5","","","","","","","","","","","","","Infantry Base Def 4","Infantry HP 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Helmet","Dragon's Breath Helm","Archer","Archer","Legendary","20000000","11","","","3","","","","","","","4","","","","","","","","","","","","","10","10","40","","https://i.postimg.cc/N0fk44Yx/helmet_archer_set.png","Archer Base Def +3","Archer HP +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","14.5","","","4","","","","","","","5","","","","","","","","","","","","","Archer Base Def 4","Archer HP 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Helmet","War Helm of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","","3","","","11","","","","","4","","","","","","","","","","","","","","40","10","10","","https://i.postimg.cc/RFWQrZW6/helmet_cav_set.png","Cavalry Base Def +3","Cavalry Attack +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","","4","","","14.5","","","","","5","","","","","","","","","","","","","","Cavalry Base Def 4","Cavalry Attack 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Helmet","Diadem of the Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","","","2","","","","8","20","20","20","","https://i.postimg.cc/J4N3Cgzq/helmet_leadership_set.png","Troop Base Attack +3","Troop HP +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","","","","","","","","","","","","","","","","","","","","2.5","","","","10.5","","","","","","",""
"Helmet","Fierce Wolf's Helmet","Siege","Siege","Legendary","30000000","","","","","","","","","","","","","","14.5","","","4","","","","","","","20","20","20","","https://i.postimg.cc/XYnfj8Z0/helmet_siege_set.png","Siege Unit Base Attack +3","Siege Unit HP +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","","","","","","","","","","","","","","","19","","","5","","","","","","","Siege Unit Base Attack 4","Siege Unit HP 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Helmet","Witch's Deadwood Crown","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","12","","","","","4","","","2","","","","","","","","","","25","https://i.postimg.cc/XqFfJ1cn/helmet-gathering.png","","","","","","","","","","","","","","15.5","","","","","5","","","2.5","","","","","","","","","","","","",""
"Helmet","Pride of the Khan","Cavalry","","Legendary","30000000","","","8","","15","","","","","","","","","","","","","","","","","","","70","","20","","https://i.postimg.cc/LsCB018F/helmet_cav_kvk.png","Cavalry Base Def +3","Cavalry Attack +1.5%","Unit Cap +650","Damage to Field Troops +1.5%","Shattering Strike","","","10.5","","19.5","","","","","","","","","","","","","","","","","","","Cavalry Base Def 4","Cavalry Attack 2%","Unit Cap 845","Damage to Field Troops 2%","Shattering Strike","",""
"Helmet","Helm of the Conqueror","Infantry","","Legendary","30000000","","","","","","8","","","","","15","","","","","","","","","","","","","20","70","","","https://i.postimg.cc/xjbytqrB/helmet_inf_kvk.png","","","","","","","","","","","10.5","","","","","19.5","","","","","","","","","","","","","","","","","","",""
"Helmet","Ancestral Mask of Night","Archer","","Legendary","30000000","15","","","","","","","","","8","","","","","","","","","","","","","","","20","70","","https://i.postimg.cc/Z5LLpgkR/helmet_archer_kvk.png","Archer Base Def +3","Archer HP +1.5%","Unit Cap +650","Damage to Field Troops +1.5%","Shattering Strike","19.5","","","","","","","","","10.5","","","","","","","","","","","","","","Archer Base Def 4","Archer HP 2%","Unit Cap 845","Damage to Field Troops 2%","Shattering Strike","",""
"Helmet","Knight's Steel Diadem","Siege","","Epic","5000000","","","","","","","","","","","","","","","","8","2","","","","","","","20","20","20","","https://i.postimg.cc/B6pN3Vgk/IMG-7382-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","10.5","2.5","","","","","","","","","","","","",""
"Helmet","Revival Helm","Archer","Revival","Epic","6000000","","7.5","","","","","","","","","5","","","","","","","","","","","","","","10","30","","https://i.postimg.cc/bwnTrJgQ/IMG-7380-removebg-preview.png","","","","","","","10","","","","","","","","","6.5","","","","","","","","","","","","","","","","","","",""
"Helmet","Witch's Lineage","Infantry","","Epic","5000000","","3","","3","","","","","","8","","","","","","","","","","","","","","10","30","10","","https://i.postimg.cc/TYF0TmVd/IMG-7379-removebg-preview.png","","","","","","","4","","4","","","","","","10.5","","","","","","","","","","","","","","","","","","","",""
"Helmet","Abyssal Visage","Cavalry","","Epic","5000000","3","","","8","","","","","","3","","","","","","","","","","","","","","30","10","10","","https://i.postimg.cc/5N6pcpFK/IMG-7378-removebg-preview.png","","","","","","4","","","10.5","","","","","","4","","","","","","","","","","","","","","","","","","","",""
"Helmet","Mask of the Forest Guardian","Gathering","","Epic","6000000","","","","","","","","","8","4","","","","4","","","","","","","","","","","","","25","https://i.postimg.cc/TP8tJm17/IMG-7381-removebg-preview.png","","","","","","","","","","","","","","10.5","5","","","","5","","","","","","","","","","","","","","","",""
"Helmet","Harvester's Headscarf","Gathering","","Elite","3000000","","","","","","","","","5","","","","","3","3","","","","","","","","","","","","30","https://i.postimg.cc/W4P7kvYx/IMG-7385-removebg-preview.png","","","","","","","","","","","","","","6.5","","","","","4","4","","","","","","","","","","","","","","",""
"Helmet","Expedition War Helm","Cavalry","","Elite","2000000","","","","","6","","3","","","","2","","","","","","","","","","","","","40","20","","","https://i.postimg.cc/zB8p9rnT/IMG-7383-removebg-preview.png","","","","","","","","","","8","","4","","","","2.5","","","","","","","","","","","","","","","","","","",""
"Helmet","Windswept War Helm","Infantry","","Elite","3000000","","","","4.5","","","","","","4.5","","","3","","","","","","","","","","","30","30","","","https://i.postimg.cc/k5xf14tn/IMG-7384-removebg-preview.png","","","","","","","","","","6","","","","","","6","","4","","","","","","","","","","","","","","","","",""
"Helmet","Helm of Fear","Cavalry","","Advanced","500000","","","","4","","","","3","","","2","","","","","","","","","","","","","40","10","","","https://i.postimg.cc/Vs74H25b/IMG-7387-removebg-preview.png","","","","","","","","","5","","","","4","","","2.5","","","","","","","","","","","","","","","","","","",""
"Helmet","Helm of the Phoenix","Archer","","Advanced","500000","","4","","","","","","3","","","","2","","","","","","","","","","","","","10","40","","https://i.postimg.cc/3Nw1xFfR/IMG-7386-removebg-preview.png","","","","","","","5","","","","","","4","","","","2.5","","","","","","","","","","","","","","","","","",""
"Helmet","Iron Helm","Infantry","","Normal","100000","","","","","","","","","","3","","","","","","","","","","","","","","","80","","","https://i.postimg.cc/6q1024Fh/IMG-7388-removebg-preview.png","","","","","","","","","","","","","","","4","","","","","","","","","","","","","","","","","","","",""
"Chest","Shadow Legion's Retribution","Cavalry","","Legendary","15000000","5","","","12","","","","","","5","","","","","","","","","","","","","","40","10","10","","https://i.postimg.cc/J7bHsXC7/chest_cav_nonset.png","Cavalry Base Def +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","6.5","","","15.5","","","","","","6.5","","","","","","","","","","","","","","Cavalry Base Def 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Chest","Plate of the Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","","2","","","","8","","20","20","20","","https://i.postimg.cc/fbtJDtvN/chest_leadership_set.png","Troop Base Def +3","Enemy Def Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","","","","","","","","","","","","","","","","","","2.5","","","","10.5","","Troop Base Def 4","Enemy Def Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Vigilant Wolf's Leather Armor","Siege","Siege","Legendary","30000000","","","","","","","","","","","","","","14.5","","","4","","","","","","","20","20","20","","https://i.postimg.cc/jjpC5x8J/chest_siege_set.png","Siege Unit Base Attack +3","Enemy Def Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","","","","","","","","","","","","","","19","","","5","","","","","","","Siege Unit Base Attack 4","Enemy Def Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Witch's Hexed Cloak","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","12","","","","","","4","","4","","","","","","","","","","25","https://i.postimg.cc/zX7Lj1f9/chest_gathering.png","","","","","","","","","","","","","","15.5","","","","","","5","","5","","","","","","","","","","","","",""
"Chest","The Milky Way","Archer","","Legendary","15000000","","","12","","","6","5","","","","","","","","","","","","","","","","","10","10","40","","https://i.postimg.cc/nrtsdFBt/chest_archer_nonset.png","Archer Base Def +3","Enemy Def Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","","15.5","","","8","6.5","","","","","","","","","","","","","","","","","Archer Base Def 4","Enemy Def Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Plate of the Eternal Empire","Infantry","Infantry","Legendary","20000000","","5","","","","","","","","11","","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/pL1pwYzC/chest_inf_set.png","Infantry Base Def +3","Enemy Attack Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","6.5","","","","","","","","14.5","","","","","","","","","","","","","","Infantry Base Def 4","Enemy Attack Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Hope Cloak","Infantry","","Legendary","15000000","","5","","","5","","","","","","12","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/dV0hNSkD/chest_inf_nonset.png","Infantry Base Def +3","Enemy Attack Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","6.5","","","6.5","","","","","","15.5","","","","","","","","","","","","","Infantry Base Def 4","Enemy Attack Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Heavy Armor of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","","","","","","11","","","","5","","","","","","","","","","","","","","40","10","10","","https://i.postimg.cc/6qL8gkf4/chest_cav_set.png","Cavalry Base Def +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Shattering Strike","","","","","","14.5","","","","6.5","","","","","","","","","","","","","","Cavalry Base Def 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Shattering Strike","",""
"Chest","Dragon's Breath Plate","Archer","Archer","Legendary","20000000","","","11","","5","","","","","","","","","","","","","","","","","","","10","10","40","","https://i.postimg.cc/vHbgfmGr/chest_archer_set.png","Archer Base Def +3","Enemy Def Ignored +1%","Unit Cap +500","Damage to Rallied Armies/Garrisons +1%","Shattering Strike","","","14.5","","6.5","","","","","","","","","","","","","","","","","","","Archer Base Def 4","Enemy Def Ignored 1.5%","Unit Cap 650","Damage to Rallied Armies/Garrisons 1.5%","Shattering Strike","",""
"Chest","Knight's Valorous Cloak","Siege","","Epic","5000000","","","","","","","","5","","","","","","8","","","2","","","","","","","20","20","20","","https://i.postimg.cc/4xyDSzJX/IMG-7392-removebg-preview.png","","","","","","","","","","","","","6.5","","","","","","","10.5","","","2.5","","","","","","","","","","","","",""
"Chest","Robe of the Forest Guardian","Gathering","","Epic","6000000","4","","","","","","","","8","","","","","4","","","","","","","","","","","","","25","https://i.postimg.cc/YCP5Kh9Y/IMG-7393-removebg-preview.png","","","","","","5","","","","","","","","10.5","","","","","5","","","","","","","","","","","","","","","",""
"Chest","Quinn's Soul","Infantry","","Epic","5000000","","","4","","","","","5","","8","","","","","","","","","","","","","","","40","20","","https://i.postimg.cc/gkg9sMbM/IMG-7391-removebg-preview.png","","","","","","","","5","","","","","6.5","","10.5","","","","","","","","","","","","","","","","","","","",""
"Chest","Dark Lord's Blessing","Cavalry","","Epic","5000000","5","","","","8","","","","","","","","","","","","","","","","","","","40","","20","","https://i.postimg.cc/9XtHRm8H/IMG-7389-removebg-preview.png","","","","","","6.5","","","","10.5","","","","","","","","","","","","","","","","","","","","","","","","",""
"Chest","Revival Plate","Archer","","Epic","6000000","7.5","","","","5","","","","","","","","","","","","","","","","","","","20","","40","","https://i.postimg.cc/X7jS9RmG/IMG-7390-removebg-preview.png","","","","","","10","","","","6.5","","","","","","","","","","","","","","","","","","","","","","","","",""
"Chest","Commander's Heavy Armor","Archer","","Elite","2000000","","","6","","","","3","","","3","","","","","","","","","","","","","","","20","40","","https://i.postimg.cc/26RgyMn5/IMG-7395-removebg-preview.png","","","","","","","","8","","","","4","","","4","","","","","","","","","","","","","","","","","","","",""
"Chest","Windswept Breastplate","Infantry","","Elite","3000000","","","","","4.5","","","","","","4.5","","3","","","","","","","","","","","30","30","","","https://i.postimg.cc/zfR9J8bM/IMG-7394-removebg-preview.png","","","","","","","","","","6","","","","","","6","","4","","","","","","","","","","","","","","","","",""
"Chest","Harvester Robes","Gathering","","Elite","3000000","","","","","","","","","5","","","","","","3","3","","","","","","","","","","","30","https://i.postimg.cc/hjL6ds01/IMG-7396-removebg-preview.png","","","","","","","","","","","","","","6.5","","","","","","4","4","","","","","","","","","","","","","",""
"Chest","Infantry Breastplate","Infantry","","Advanced","500000","","","","","","2","","3","","","4","","","","","","","","","","","","","10","40","","","https://i.postimg.cc/L5vWyswq/IMG-7398-removebg-preview.png","","","","","","","","","","","2.5","","4","","","5","","","","","","","","","","","","","","","","","","",""
"Chest","Milanese Plate","Cavalry","","Advanced","500000","2","","","","4","","","","","","","","","","","","","","","","","","","40","","10","","https://i.postimg.cc/5yfGqz7d/IMG-7397-removebg-preview.png","","","","","","2.5","","","","5","","","","","","","","","","","","","","","","","","","","","","","","",""
"Chest","Chain Mail","Archer","","Normal","100000","3","","","","","","","","","","","","","","","","","","","","","","","","","80","","https://i.postimg.cc/bYR4Y6rz/IMG-7399-removebg-preview.png","","","","","","4","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""
"Gloves","Vambraces of the Eternal Empire","Infantry","Infantry","Legendary","20000000","","","","3","","","","","","","7.5","","","","","","","","","","","","","10","30","","","https://i.postimg.cc/m2y95Hmp/gloves_inf_set.png","Infantry Base Attack +3","Infantry Attack +1%","Unit Cap +300","Unit Cap +0.5%","Seeing Red","","","","4","","","","","","","10","","","","","","","","","","","","","Infantry Base Attack 4","Infantry Attack 1.5%","Unit Cap 390","Unit Cap 0.5%","Seeing Red","",""
"Gloves","Sacred Grips","Infantry","","Legendary","15000000","5","","","","","","","","","","8","","","","","","","","","","","","","10","","","","https://i.postimg.cc/DyTs6gPb/gloves_inf_nonset.png","Infantry Base Attack +3","Infantry Attack +1%","Unit Cap +300","Unit Cap +0.5%","Seeing Red","6.5","","","","","","","","","","10.5","","","","","","","","","","","","","Infantry Base Attack 4","Infantry Attack 1.5%","Unit Cap 390","Unit Cap 0.5%","Seeing Red","",""
"Gloves","Ian's Choice","Archer","","Legendary","15000000","8","","","","","","5","","","","","","","","","","","","","","","","","10","","30","","https://i.postimg.cc/y8nFkZ93/gloves_archer_nonset.png","Archer Base Attack +3","Enemy Attack Ignored +1%","Unit Cap +300","Unit Cap +0.5%","Seeing Red","10.5","","","","","","6.5","","","","","","","","","","","","","","","","","Archer Base Attack 4","Enemy Attack Ignored 1.5%","Unit Cap 390","Unit Cap 0.5%","Seeing Red","",""
"Gloves","Navar's Control","Cavalry","","Legendary","15000000","","","","","","8","","","","","5","","","","","","","","","","","","","30","10","","","https://i.postimg.cc/bJSbCV51/gloves_cav_nonset.png","Cavalry Base Attack +3","Cavalry Def +1%","Unit Cap +300","Unit Cap +0.5%","Perplexing Ploy","","","","","","10.5","","","","","6.5","","","","","","","","","","","","","Cavalry Base Attack 4","Cavalry Def 1.5%","Unit Cap 390","Unit Cap 0.5%","Perplexing Ploy","",""
"Gloves","Gauntlets of the Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","2","","","","","6","","15","15","10","","https://i.postimg.cc/wMhNHygv/gloves_leadership_set.png","Troop Base Def +3","Enemy Attack Ignored +1%","Unit Cap +300","Unit Cap +0.5%","Unflinching","","","","","","","","","","","","","","","","","","2.5","","","","","8","","Troop Base Def 4","Enemy Attack Ignored 1.5%","Unit Cap 390","Unit Cap 0.5%","Unflinching","",""
"Gloves","Wailing Wolf's Gauntlets","Siege","Siege","Legendary","30000000","","","","","","","","","","","","","","","10","","3","","","","","","","10","15","15","","https://i.postimg.cc/NGTmRVmc/gloves_siege_set.png","Siege Unit Base Def +3","Enemy Attack Ignored +1%","Unit Cap +300","Unit Cap +0.5%","Bewildering Barrage","","","","","","","","","","","","","","","13","","4","","","","","","","","","","","","",""
"Gloves","Witch's Crimson Bracers ","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","8","","","","","","","3","2","","","","","","","","","","15","","https://i.postimg.cc/FztS2gt8/gloves_gathering.png","","","","","","","","","","","","","","10.5","","","","","","","4","2.5","","","","","","","","","","","","",""
"Gloves","Dragon's Breath Vambraces","Archer","Archer","Legendary","20000000","7.5","","","","","","","","","3","","","","","","","","","","","","","","","10","30","","https://i.postimg.cc/W4Hg7c52/gloves_archer_set.png","Archer Base Attack +3","Enemy Attack Ignored +1%","Unit Cap +300","Unit Cap +0.5%","Befuddling Blow","10","","","","","","","","","4","","","","","","","","","","","","","","Archer Base Attack 4","Enemy Attack Ignored 1.5%","Unit Cap 390","Unit Cap 0.5%","Befuddling Blow","",""
"Gloves","Armband of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","","","3","","7.5","","","","","","","","","","","","","","","","","","","30","","10","","https://i.postimg.cc/zfBTWGSt/gloves_cav_set.png","Cavalry Base Attack +3","Cavalry Def +1%","Unit Cap +300","Unit Cap +0.5%","Perplexing Ploy","","","4","","10","","","","","","","","","","","","","","","","","","","Cavalry Base Attack 4","Cavalry Def 1.5%","Unit Cap 390","Unit Cap 0.5%","Perplexing Ploy","",""
"Gloves","Knight's Battleworn Gauntlets","Siege","","Epic","5000000","","","","","","","","","","","","","","","5.5","","2","","","","","","","10","15","15","","https://i.postimg.cc/q7nZPwWH/IMG-7404-removebg-preview.png","","","","","","","","","","","","","","","","","","","","7","","2.5","","","","","","","","","","","","",""
"Gloves","Iset's Sufferance","Cavalry","","Epic","5000000","","","","3","","3","","","","","","","","","","","","","","","","","","40","","","","https://i.postimg.cc/jddmDzny/IMG-7400-removebg-preview.png","","","","","","","","","4","","4","","","","","","","","","","","","","","","","","","","","","","","",""
"Gloves","Claws of the Forest Guardian","Gathering","","Epic","6000000","","","","","","","","","6","","","","","2","2","","","","","","","","","","","","15","https://i.postimg.cc/JzS2Yv6Q/IMG-7403-removebg-preview.png","","","","","","","","","","","","","","8","","","","","2.5","2.5","","","","","","","","","","","","","","",""
"Gloves","Seth's Brutality","Infantry","","Epic","5000000","","2","","","","","","5","","","5.5","","","","","","","","","","","","","","30","10","","https://i.postimg.cc/138dHsHt/IMG-7401-removebg-preview.png","","","","","","","2.5","","","","","","6.5","","","7","","","","","","","","","","","","","","","","","","",""
"Gloves","Revival Gauntlets","Archer","","Epic","6000000","4.5","","","3","","","","","","3","","","","","","","","","","","","","","","10","30","","https://i.postimg.cc/m2XqCt7J/IMG-7402-removebg-preview.png","","","","","","6","","","4","","","","","","4","","","","","","","","","","","","","","","","","","","",""
"Gloves","Saint's Song","Archer","","Elite","2000000","4","","","2","","","3","","","","","","","","","","","","","","","","","10","","30","","https://i.postimg.cc/90X8qh0c/IMG-7407-removebg-preview.png","","","","","","5","","","2.5","","","4","","","","","","","","","","","","","","","","","","","","","","",""
"Gloves","Windswept Braces","Cavalry","","Elite","3000000","","","","","","2.5","","","","","","2.5","3","","","","","","","","","","","20","20","","","https://i.postimg.cc/sX4HXXVn/IMG-7406-removebg-preview.png","","","","","","","","","","","3","","","","","","3","4","","","","","","","","","","","","","","","","",""
"Gloves","Calvin's Hand","Infantry","","Elite","2000000","1","","","","","","","","","4","","1","","","","","","","","","","","","5","30","5","","https://i.postimg.cc/Qt3nh5r9/IMG-7405-removebg-preview.png","","","","","","1.5","","","","","","","","","5","","1.5","","","","","","","","","","","","","","","","","",""
"Gloves","Leather Gloves","Archer","","Advanced","500000","","","2.5","","","","","","","","1","","","","","","","","","","","","","","15","20","","https://i.postimg.cc/6qHHrm4n/IMG-7409-removebg-preview.png","","","","","","","","3","","","","","","","","1.5","","","","","","","","","","","","","","","","","","",""
"Gloves","Bronze Bracers","Cavalry","","Advanced","500000","","","","","2.5","","","3","","","","1","","","","","","","","","","","","20","15","","","https://i.postimg.cc/05ZH1bXj/IMG-7408-removebg-preview.png","","","","","","","","","","3","","","4","","","","1.5","","","","","","","","","","","","","","","","","",""
"Gloves","Cloth Gloves","Infantry","","Normal","100000","","","","","","","","","","","2","","","","","","","","","","","","","","60","","","https://i.postimg.cc/PrxVXT04/IMG-7410-removebg-preview.png","","","","","","","","","","","","","","","","2.5","","","","","","","","","","","","","","","","","","",""
"Pants","Ash of the Dawn","Cavalry","","Legendary","15000000","","","","","","12","5","","","","","5","","","","","","","","","","","","40","10","10","","https://i.postimg.cc/4dxV6N62/pants_cav_nonset.png","Cavalry Base HP +3","Cavalry HP +2%","Unit Cap +500","Damage to Field Troops +1%","Willy","","","","","","15.5","6.5","","","","","6.5","","","","","","","","","","","","","Cavalry Base HP 4","Cavalry HP 2.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Greaves of the Eternal Empire","Infantry","Infantry","Legendary","20000000","","5","","","","","","","","11","","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/9QH9xBP7/pants_inf_set.png","Infantry Base HP +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Willy","","6.5","","","","","","","","14.5","","","","","","","","","","","","","","Infantry Base HP 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Tassets of the War God","Archer","","Legendary","15000000","12","","","5","","","","","","5","","","","","","","","","","","","","","10","10","40","","https://i.postimg.cc/rmZWQXgV/pants_archer_nonset.png","Archer Base HP +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Willy","15.5","","","6.5","","","","","","6.5","","","","","","","","","","","","","","","","","","","",""
"Pants","Eternal Night","Infantry","","Legendary","15000000","","5","","","5","","","","","","12","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/XNhd5Wpx/pants_inf_nonset.png","Infantry Base HP +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Willy","","6.5","","","6.5","","","","","","15.5","","","","","","","","","","","","","Infantry Base HP 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Dragon's Breath Tassets","Archer","Archer","Legendary","20000000","11","","","5","","","","","","","","","","","","","","","","","","","","10","10","40","","https://i.postimg.cc/2yqWtcX4/pants_archer_set.png","Archer Base HP +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Willy","14.5","","","6.5","","","","","","","","","","","","","","","","","","","","Archer Base HP 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Chausses of the Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","","","","2","8","","","20","20","20","","https://i.postimg.cc/bw0t42LF/pants_leadership_set.png","Troop Base HP +3","Enemy HP Ignored +1%","Unit Cap +500","Damage to Field Troops +1%","Willy","","","","","","","","","","","","","","","","","","","","","2.5","10.5","","","Troop Base HP 4","Enemy HP Ignored 1.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Lone Wolf's Leather Tassets","Siege","Siege","Legendary","30000000","","","","","","","","","","","","","","","","14.5","4","","","","","","","20","20","20","","https://i.postimg.cc/d0qyFtxQ/pants_siege_set.png","","","","","","","","","","","","","","","","","","","","","19","5","","","","","","","","","","","","",""
"Pants","Witch's Ornamented Pants","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","12","","","","","","","4","2","","","","","","","","","","25","https://i.postimg.cc/wTmJcrNz/pants_gathering.png","","","","","","","","","","","","","","15.5","","","","","","","5","2.5","","","","","","","","","","","","",""
"Pants","Tassets of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","","","","11","","","","","","","5","","","","","","","","","","","","","40","10","10","","https://i.postimg.cc/brKnfxK4/pants_cav_set.png","Cavalry Base HP +3","Cavalry HP +2%","Unit Cap +500","Damage to Field Troops +1%","Willy","","","","14.5","","","","","","","6.5","","","","","","","","","","","","","","Cavalry Base HP 4","Cavalry HP 2.5%","Unit Cap 650","Damage to Field Troops 1.5%","Willy","",""
"Pants","Knight's Triumphant Tassets","Siege","","Epic","5000000","","","","","","","","5","","","","","","","8","","","","","","","","","20","20","20","","https://i.postimg.cc/7h767pWQ/IMG-7415-removebg-preview.png","","","","","","","","","","","","","6.5","","","","","","","10.5","","","","","","","","","","","","","","",""
"Pants","Fanatic's Tassets","Archer","","Epic","5000000","","8","","","5","","","","","","","","","","","","","","","","","","","20","","40","","https://i.postimg.cc/QMtdSBz7/IMG-7413-removebg-preview.png","","","","","","","10.5","","","6.5","","","","","","","","","","","","","","","","","","","","","","","","",""
"Pants","Gladiator","Cavalry","","Epic","5000000","","4","","","","8","","5","","","","","","","","","","","","","","","","40","","20","","https://i.postimg.cc/ncbMZhs8/IMG-7414-removebg-preview.png","","","","","","","5","","","","10.5","","6.5","","","","","","","","","","","","","","","","","","","","","",""
"Pants","Karuak's Humility","Infantry","","Epic","5000000","","","","5","","","","","","","","8","","","","","","","","","","","","20","40","","","https://i.postimg.cc/L4Zhr18B/IMG-7411-removebg-preview.png","","","","","","","","","6.5","","","","","","","","10.5","","","","","","","","","","","","","","","","","",""
"Pants","Revival Greaves","Archer","","Epic","6000000","","7.5","","5","","","","","","","","","","","","","","","","","","","","20","","40","","https://i.postimg.cc/Njb018dY/IMG-7412-removebg-preview.png","","","","","","","10","","6.5","","","","","","","","","","","","","","","","","","","","","","","","","",""
"Pants","Harvester Breeches","Gathering","","Elite","3000000","","","","","","","","","5","","","","","3","3","","","","","","","","","","","","30","https://i.postimg.cc/KYHvWGXH/IMG-7418-removebg-preview.png","","","","","","","","","","","","","","6.5","","","","","4","4","","","","","","","","","","","","","","",""
"Pants","Greaves of the Exile","Archer","","Elite","2000000","","6","","","","","3","","","","3","","","","","","","","","","","","","","20","40","","https://i.postimg.cc/gkVj0bRx/IMG-7416-removebg-preview.png","","","","","","","8","","","","","4","","","","4","","","","","","","","","","","","","","","","","","",""
"Pants","Sentry Breeches","Infantry","","Elite","2000000","3","","","","1","","","","","6","","","","","","","","","","","","","","10","40","10","","https://i.postimg.cc/52f0YKqn/IMG-7417-removebg-preview.png","","","","","","4","","","","1.5","","","","","8","","","","","","","","","","","","","","","","","","","",""
"Pants","Vanguard Greaves","Cavalry","","Advanced","750000","","","","4","","1","","","","","","","","","","","","","","","","","","70","","","","https://i.postimg.cc/rmRFXBMF/IMG-7420-removebg-preview.png","","","","","","","","","5","","1.5","","","","","","","","","","","","","","","","","","","","","","","",""
"Pants","Ranger Trousers","Infantry","","Advanced","500000","","2","","","","","","3","","4","","","","","","","","","","","","","","","40","10","","https://i.postimg.cc/C195RFmq/IMG-7419-removebg-preview.png","","","","","","","2.5","","","","","","4","","5","","","","","","","","","","","","","","","","","","","",""
"Pants","Coarse Breeches","Cavalry","","Normal","100000","","","","3","","","","","1","","","","","","","","","","","","","","","60","","","","https://i.postimg.cc/SR0QygxL/IMG-7421-removebg-preview.png","","","","","","","","","4","","","","","1.5","","","","","","","","","","","","","","","","","","","","",""
"Boots","Shio's Return","Infantry","","Legendary","15000000","","","5","","","","","","","","8","","","","","","","","","","","","","","30","10","","https://i.postimg.cc/R0HVjrMC/boots_inf_nonset.png","Infantry Base HP +3","Infantry Def +1%","Unit Cap +300","March Speed +5%","Fleetfooted Footmen","","","6.5","","","","","","","","10.5","","","","","","","","","","","","","Infantry Base HP 4","Infantry Def 1.5%","Unit Cap 390","March Speed 6.5%","Fleetfooted Footmen","",""
"Boots","Commander's Boots","Archer","","Legendary","15000000","8","","","","","","5","","","","","","","","","","","","","","","","","10","","30","","https://i.postimg.cc/ZYF0bh6C/boots_archers_nonset.png","Archer Base HP +3","Archer Attack +1%","Unit Cap +300","March Speed +5%","Alacritous Archers","10.5","","","","","","6.5","","","","","","","","","","","","","","","","","Archer Base HP 4","Archer Attack 1.5%","Unit Cap 390","March Speed 6.5%","Alacritous Archers","",""
"Boots","Greaves of the Glorious Goddess","Leadership","Leadership","Legendary","20000000","","","","","","","","","","","","","","","","","2","","","","6","","","10","15","15","","https://i.postimg.cc/DwDwjf3Y/boots_leadership_set.png","Troop Base HP +3","Troop Attack +1%","Unit Cap +300","March Speed +5%","Holistic Haste","","","","","","","","","","","","","","","","","","2.5","","","","8","","","Troop Base HP 4","Troop Attack 1.5%","Unit Cap 390","March Speed 6.5%","Holistic Haste","",""
"Boots","Roaring Wolf's Claws","Siege","Siege","Legendary","30000000","","","","","","","","","","","","","","","10","","3","","","","","","","15","10","15","","https://i.postimg.cc/Yqr0jyx8/boots_siege_set.png","Siege Unit Base Def +3","Siege Unit Attack +1%","Unit Cap +300","March Speed +5%","Breakneck Besiegers","","","","","","","","","","","","","","","13","","4","","","","","","","Siege Unit Base Def 4","Siege Unit Attack 1.5%","Unit Cap 390","March Speed 6.5%","Breakneck Besiegers","",""
"Boots","Witch's Mire-Waders","Gathering","Witch's Wardrobe","Legendary","20000000","","","","","","","","","8","","","","","3","","","2","","","","","","","","","","15","https://i.postimg.cc/bwdv9DWt/boots_gathering.png","","","","","","","","","","","","","","10.5","","","","","4","","","2.5","","","","","","","","","","","","",""
"Boots","Sturdy Boots of the Eternal Empire","Infantry","Infantry","Legendary","20000000","","","","","3","","","","","","7.5","","","","","","","","","","","","","10","30","","","https://i.postimg.cc/65M3ZLjK/boots_inf_set.png","Infantry Base HP +3","Infantry Def +1%","Unit Cap +300","March Speed +5%","Fleetfooted Footmen","","","","","4","","","","","","10","","","","","","","","","","","","","Infantry Base HP 4","Infantry Def 1.5%","Unit Cap 390","March Speed 6.5%","Fleetfooted Footmen","",""
"Boots","Mountain Crushers","Cavalry","","Legendary","15000000","5","","","8","","","","","","","","","","","","","","","","","","","","30","","10","","https://i.postimg.cc/Rh9F7PxS/boots_cav_nonset.png","Cavalry Base HP +3","Cavalry Attack +1%","Unit Cap +300","March Speed +5%","Hurried Horsemen","6.5","","","10.5","","","","","","","","","","","","","","","","","","","","Cavalry Base HP 4","Cavalry Attack 1.5%","Unit Cap 390","March Speed 6.5%","Hurried Horsemen","",""
"Boots","Boots of the Hellish Wasteland","Cavalry","Cavalry","Legendary","20000000","3","","","","","7.5","","","","","","","","","","","","","","","","","","30","","10","","https://i.postimg.cc/8cHCthTh/boots_cav_set.png","Cavalry Base HP +3","Cavalry Attack +1%","Unit Cap +300","March Speed +5%","Hurried Horsemen","4","","","","","10","","","","","","","","","","","","","","","","","","","","","","","",""
"Boots","Dragon's Breath Boots","Archer","Archer","Legendary","20000000","","7.5","","","","","","","","","3","","","","","","","","","","","","","","10","30","","https://i.postimg.cc/C1b5n3tr/boots_archer_set.png","Archer Base HP +3","Archer Attack +1%","Unit Cap +300","March Speed +5%","Alacritous Archers","","10","","","","","","","","","4","","","","","","","","","","","","","Archer Base HP 4","Archer Attack 1.5%","Unit Cap 390","March Speed 6.5%","Alacritous Archers","",""
"Boots","Knight's Winter Sabatons","Siege","","Epic","5000000","","","","","","","","5","","","","","","","","5.5","","","","","","","","15","10","15","","https://i.postimg.cc/hPB46Zwc/IMG-7424-removebg-preview.png","","","","","","","","","","","","","6.5","","","","","","","","7","","","","","","","","","","","","","",""
"Boots","Cloud Racers","Cavalry","","Epic","5000000","","","2","5.5","","","","","6","","","","","","","","","","","","","","","30","","10","","https://i.postimg.cc/KjnG4t16/IMG-7422-removebg-preview.png","","","","","","","","2.5","7","","","","","8","","","","","","","","","","","","","","","","","","","",""
"Boots","Flame Treads","Archer","","Epic","5000000","","","5.5","3","","","","","","","","","","","","","","","","","","","","10","","30","","https://i.postimg.cc/d34q8w96/IMG-7915-removebg-preview.png","","","","","","","","7","4","","","","","","","","","","","","","","","","","","","","","","","","","",""
"Boots","Frost Treads","Infantry","","Epic","5000000","","","","","","","","5","","","5.5","","","","","","","","","","","","","10","30","","","https://i.postimg.cc/bYbN6fmm/IMG-7423-removebg-preview.png","","","","","","","","","","","","","6.5","","","7","","","","","","","","","","","","","","","","","","",""
"Boots","The Scarlet Hounds","Infantry","","Elite","2000000","","","","","","","3","","","","","4","","","","","","","","","","","","","40","","","https://i.postimg.cc/X7kNbcSF/IMG-7425-removebg-preview.png","","","","","","","","","","","","4","","","","","5","","","","","","","","","","","","","","","","","",""
"Boots","Windswept Boots","Cavalry","","Elite","3000000","","","","","","2.5","","","","","","2.5","3","","","","","","","","","","","20","20","","","https://i.postimg.cc/xdc9Mwky/IMG-7427-removebg-preview.png","","","","","","","","","","","3","","","","","","3","4","","","","","","","","","","","","","","","","",""
"Boots","Harvester Boots","Gathering","","Elite","3000000","","","","","","","","","5","","","","","","2","2","","","","","","","","","","","20","https://i.postimg.cc/DwfvyJnN/IMG-7426-removebg-preview.png","","","","","","","","","","","","","","6.5","","","","","","2.5","2.5","","","","","","","","","","","","","",""
"Boots","Edged Boots","Archer","","Advanced","500000","2.5","","","1","","","","3","","","","","","","","","","","","","","","","15","","20","","https://i.postimg.cc/QMwhbf1L/IMG-7428-removebg-preview.png","","","","","","3","","","1.5","","","","4","","","","","","","","","","","","","","","","","","","","","",""
"Boots","Boots of Reverence","Infantry","","Advanced","500000","","1","","","","","","","","2.5","","","","","","","","","","","","","","","20","15","","https://i.postimg.cc/3xLKy8wx/IMG-7429-removebg-preview.png","","","","","","","1.5","","","","","","","","3","","","","","","","","","","","","","","","","","","","",""
"Boots","Sturdy Boots","Archer","","Normal","100000","","2","","","","","","","1","","","","","","","","","","","","","","","","","60","","https://i.postimg.cc/JnXmdj5s/IMG-7430-removebg-preview.png","","","","","","","2.5","","","","","","","1.5","","","","","","","","","","","","","","","","","","","","",""
"Accessory","Savage Totem","Accessory","","Elite","4000000","","","","","","","","","","","","","","","","","","","","","","","","","","","70","https://i.postimg.cc/44rHd1SS/IMG-7435-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Damage to Barbarians +10%","Damage to Barbarians +13%"
"Accessory","Call of the Loyal","Accessory","","Elite","4000000","","","","","","","","","","","","","","","","","","","","","","","","35","35","","","https://i.postimg.cc/9FZRq73F/IMG-7436-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","March Speed +5%","March Speed +6.5%"
"Accessory","Lohar’s Bone Necklace","Accessory","","Elite","4000000","","","","","","","","","","","","","","","","","","","","","","","","","","","70","https://i.postimg.cc/7Z4C1ZD1/IMG-7437-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Commander EXP Gain +10%","Commander EXP Gain +13%"
"Accessory","The Bard’s Pendant","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","","","","80","https://i.postimg.cc/br2PWk0G/IMG-7434-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Get extra resources from gathering +5%","Get extra resources from gathering +6.5%"
"Accessory","Peter’s Sickle","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","","","","80","https://i.postimg.cc/k4H9TfS3/IMG-7431-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Gathering Speed +10%","Gathering Speed +13%"
"Accessory","Wind Scars","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","30","20","20","","https://i.postimg.cc/KYqRy7TQ/IMG-7440-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","March Speed (Infantry) +8%","March Speed (Infantry) +10.5%"
"Accessory","Ancient Stratagems","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","20","20","30","","https://i.postimg.cc/T3cKtvYz/IMG-7438-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Unit Capacity +3%","Unit Capacity +4%"
"Accessory","Silent Trial","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","20","20","30","","https://i.postimg.cc/tR1Vpc26/IMG-7432-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Whenever the wearer’s troop launches any type of basic attack, the target loses 10 Rage.","Whenever the wearer’s troop launches any type of basic attack, the target loses 13 Rage."
"Accessory","Delane’s Amulet","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","30","20","20","","https://i.postimg.cc/XXSWbqxs/IMG-7433-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","The wearer’s troops take 5% less counterattack damage of all types.","The wearer’s troops take 6.5% less counterattack damage of all types."
"Accessory","Crimson Ring","Accessory","","Epic","8000000","","","","","","","","","","","","","","","","","","","","","","","","","","","80","https://i.postimg.cc/k5XBZY2B/IMG-7439-removebg-preview.png","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Commander EXP Gain +15%","Commander EXP Gain +19.5%"
"Accessory","Ring of Doom","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/k59x5yBm/ringofdoom.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to gain 50% bonus to damage dealt for 2 seconds. Can trigger up to 1 times every 5 seconds.","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to gain 65% bonus to damage dealt for 2 seconds. Can trigger up to 1 times every 5 seconds."
"Accessory","Scola’s Lucky Coin","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/Mp17xLZ5/scholascoin.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop is hit with any type of basic attack, it has a 10% chance to gain a damage-absorbing shield for 2 seconds (Damage Factor 500). Cooldown: 5 seconds.","Whenever the wearer’s troop is hit with any type of basic attack, it has a 10% chance to gain a damage-absorbing shield for 2 seconds (Damage Factor 650). Cooldown: 5 seconds."
"Accessory","Concealed Dagger","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/zvMCXZRt/concealeddagger.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to reduce the target’s Health by 5%. Stacks up to 3 times. Each stack lasts for 3 seconds.","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to reduce the target’s Health by 6.5%. Stacks up to 3 times. Each stack lasts for 3 seconds."
"Accessory","Karuak’s War Drums","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","30","40","30","","https://i.postimg.cc/fyk7NTkS/wardrums.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to grant 50 extra Rage to the wearer’s troop and up to 2 nearby allied troops. Cooldown: 3 seconds.","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to grant 65 extra Rage to the wearer’s troop and up to 2 nearby allied troops. Cooldown: 3 seconds."
"Accessory","Greatest Glory","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/tRmtzPm3/greatestglory.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","The wearer’s troop deals 5% more normal damage of all types.","The wearer’s troop deals 6.5% more normal damage of all types."
"Accessory","Horn of Fury","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/zXbw2B99/hornoffury.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to gain 50 extra Rage.","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to gain 65 extra Rage."
"Accessory","Mora’s Web","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/3R8CtZTB/morasweb.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to reduce the target’s Defense by 4% and the March Speed of the target’s cavalry units by 8%. Stacks up to 3 times. Each stack lasts 3 seconds.","Whenever the wearer’s troop launches any type of basic attack, it has a 30% chance to reduce the target’s Defense by 5% and the March Speed of the target’s cavalry units by 10.5%. Stacks up to 3 times. Each stack lasts 3 seconds."
"Accessory","Seths’ Call","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","30","30","40","","https://i.postimg.cc/fL87p0Wh/sethscall.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to grant a 10% Attack bonus to the wearer’s troop and up to 2 nearby allied troops for 3 seconds. Cooldown: 3 seconds.","Whenever the wearer’s troop launches any type of basic attack, it has a 10% chance to grant a 13% Attack bonus to the wearer’s troop and up to 2 nearby allied troops for 3 seconds. Cooldown: 3 seconds."
"Accessory","Pendant of Eternal Night","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/pXwfwvvy/pendantofeternalnight.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","The wearer’s troop deals 5% more skill damage of all types.","The wearer’s troop deals 6.5% more skill damage of all types."
"Accessory","Vengeance","Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/MGD1fjQj/vengeance.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","The wearer’s troop deals 8% more counterattack damage of all types.","The wearer’s troop deals 10.5% more counterattack damage of all types."
"Accessory","Immolating Plume","All / Accessory","","Legendary","50000000","","","","","","","","","","","","","","","","","","","","","","","","40","40","40","","https://i.postimg.cc/3wCFjcPN/immolatingplume.png","Troop Base HP +3","Troop HP +1%","Unit Cap +1.5%","Damage to Rallied Armies/Garrisons +1.5%","Divine Might","","","","","","","","","","","","","","","","","","","","","","","","Troop Base HP 4","Troop HP 1.5%","Unit Cap 2%","Damage to Rallied Armies/Garrisons 2%","Divine Might","Whenever the wearer’s troop deals ranged direct damage or ranged smite damage, it has a 50% chance to increase the damage by 30%. Cooldown: 5 seconds.","Whenever the wearer’s troop deals ranged direct damage or ranged smite damage, it has a 50% chance to increase the damage by 40%. Cooldown: 5 seconds."`;

        // --- GLOBAL STATE ---
        let allGear = [];
        const statColumns = {
            base: ["Archer_Attack","Archer_Defense","Archer_Health","Cavalry_Attack","Cavalry_Defense","Cavalry_Health","Commander_EXP_Gain","Damage_to_Barbarians","Gathering_Speed","Infantry_Attack","Infantry_Defense","Infantry_Health","March_Speed","Siege_Attack","Siege_Defense","Siege_Health","March_Speed__Siege_","March_Speed__Infantry_","March_Speed__Cavalry_","March_Speed__Archer_","Troop_Health","Troop_Defense","Troop_Attack"],
            refined: ["Refined_Archer_Attack","Refined_Archer_Defense","Refined_Archer_Health","Refined_Cavalry_Attack","Refined_Cavalry_Defense","Refined_Cavalry_Health","Refined_Commander_EXP_Gain","Refined_Damage_to_Barbarians","Refined_Gathering_Speed","Refined_Infantry_Attack","Refined_Infantry_Defense","Refined_Infantry_Health","Refined_March_Speed","Refined_Siege_Attack","Refined_Siege_Defense","Refined_Siege_Health","Refined_March_Speed__Siege_","Refined_March_Speed__Infantry_","Refined_March_Speed__Cavalry_","Refined_March_Speed__Archer_","Refined_Troop_Health","Refined_Troop_Defense","Refined_Troop_Attack"],
            iconic: ["Iconic_1","Iconic_2","Iconic_3","Iconic_4","Iconic_5"],
            refinedIconic: ["Refined_Iconic_1","Refined_Iconic_2","Refined_Iconic_3","Refined_Iconic_4","Refined_Iconic_5"],
            accessory: ["Accessory_Effect"],
            refinedAccessory: ["Refined_Accessory_Effect"]
        };
        let selectedGear = {};
        let currentSlot = '';

        // --- UTILITY FUNCTIONS ---
        function csvToJson(csv) {
            const lines = csv.split('\n').filter(line => line.trim() !== '');
            const headers = lines[0].match(/(".*?"|[^",]+)/g).map(h => h.replace(/"/g, '').trim());
            
            return lines.slice(1).map(line => {
                const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/"/g, ''));
                const obj = {};
                headers.forEach((header, i) => {
                    const value = values[i];
                    if (header.includes('Cost') || header === 'Leather' || header === 'Iron_Ore' || header === 'Ebony' || header === 'Animal_Bone' || statColumns.base.includes(header) || statColumns.refined.includes(header)) {
                        obj[header] = parseFloat(value.replace(/,/g, '')) || 0;
                    } else {
                        obj[header] = value;
                    }
                });
                return obj;
            });
        }

        // --- DOM ELEMENTS ---
        const layoutContainer = document.getElementById('equipment-layout');
        const statsOutput = document.getElementById('stats-output');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalTitle = document.getElementById('modal-title');
        const gearModal = document.getElementById('gear-modal');
        const searchInput = document.getElementById('search-input');
        const closeModalButton = document.getElementById('close-modal-button');
        const resetButton = document.getElementById('reset-button');

        // --- RENDER FUNCTIONS ---
        function renderLayout() {
            const slotConfig = {
                'Helmet': { row: 1, col: 2, icon: '🛡️' },
                'Chest': { row: 2, col: 2, icon: '👕' },
                'Weapon': { row: 3, col: 1, icon: '⚔️' },
                'Gloves': { row: 3, col: 3, icon: '🧤' },
                'Legs': { row: 4, col: 2, icon: '👖' },
                'Accessory_1': { row: 5, col: 1, icon: '💍' },
                'Accessory_2': { row: 5, col: 3, icon: '💍' },
                'Boots': { row: 6, col: 2, icon: '👢' }
            };

            layoutContainer.innerHTML = `
                <div class="grid grid-cols-3 gap-y-2 place-items-center" style="width: 384px; height: 576px;">
                    ${Object.entries(slotConfig).map(([slotKey, {row, col, icon}]) => `
                        <div class="flex items-center justify-center" style="grid-row: ${row}; grid-column: ${col};">
                           ${renderSlot(slotKey, icon)}
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        function renderSlot(slotKey, icon) {
            const gear = selectedGear[slotKey];
            const displaySlotName = slotKey.replace(/_\d/,'');
            const rarityClass = gear ? `rarity-${gear.Level}` : '';

            return `
                <div class="w-28 h-28 relative group">
                    <div class="p-2 glassmorphism rounded-xl aspect-square flex flex-col justify-center items-center text-center cursor-pointer hover:bg-gray-700/50 transition-colors" data-slot="${slotKey}">
                        ${gear ? `
                            <div class="relative">
                                <img src="${gear.Images}" alt="${gear.Gear_Name}" class="h-16 w-16 mx-auto rounded-md">
                                <div class="absolute -top-1 -right-1 bg-gray-900 rounded-full px-1.5 py-0.5 text-xs font-bold border ${rarityClass}">${gear.Level.substring(0,1)}</div>
                            </div>
                            <p class="text-xs font-semibold mt-1">${gear.Gear_Name}</p>
                        ` : `
                            <div class="w-full h-full border-2 border-dashed border-gray-600 rounded-xl flex flex-col justify-center items-center">
                                <p class="text-3xl text-gray-500">${icon}</p>
                                <p class="mt-1 text-xs text-gray-400">${displaySlotName}</p>
                            </div>
                        `}
                    </div>
                    ${gear ? `
                        <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-max p-2 glassmorphism rounded-lg text-xs opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2 z-10">
                            <label class="flex items-center gap-1 cursor-pointer">
                                <input type="checkbox" class="refine-checkbox" data-slot="${slotKey}" ${gear.refined ? 'checked' : ''}>
                                Refined
                            </label>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderStats() {
            const totalStats = {};
            const totalCosts = { "Gold": 0, "Leather": 0, "Iron_Ore": 0, "Ebony": 0, "Animal_Bone": 0 };
            const allEffects = [];

            const allStatKeys = [...statColumns.base, ...statColumns.refined];
            allStatKeys.forEach(key => totalStats[key] = 0);

            for (const gear of Object.values(selectedGear)) {
                if (gear) {
                    totalCosts.Gold += gear.Gold_Cost || 0;
                    totalCosts.Leather += gear.Leather || 0;
                    totalCosts.Iron_Ore += gear.Iron_Ore || 0;
                    totalCosts.Ebony += gear.Ebony || 0;
                    totalCosts.Animal_Bone += gear.Animal_Bone || 0;

                    const statPrefix = gear.refined ? "Refined_" : "";
                    const iconicPrefix = gear.refined ? "Refined_" : "";
                    const accessoryPrefix = gear.refined ? "Refined_" : "";

                    statColumns.base.forEach(baseKey => {
                        const key = statPrefix + baseKey;
                        if (gear[key] > 0) {
                            totalStats[baseKey] = (totalStats[baseKey] || 0) + gear[key];
                        }
                    });

                    statColumns.iconic.forEach(baseKey => {
                        const key = iconicPrefix + baseKey;
                        if (gear[key]) allEffects.push({name: gear.Gear_Name, effect: gear[key]});
                    });
                    
                    statColumns.accessory.forEach(baseKey => {
                         const key = accessoryPrefix + baseKey;
                         if (gear[key]) allEffects.push({name: gear.Gear_Name, effect: gear[key]});
                    });
                }
            }

            statsOutput.innerHTML = '';
            let hasContent = false;
            
            // Render Costs
            const costEntries = Object.entries(totalCosts).filter(([, value]) => value > 0);
            if (costEntries.length > 0) {
                hasContent = true;
                let costsHtml = `<h3 class="font-bold text-lg text-white">Total Crafting Costs</h3>`;
                costsHtml += '<div class="space-y-1 pl-2">';
                costEntries.forEach(([key, value]) => {
                    costsHtml += `<div class="flex justify-between"><span>${key.replace(/_/g, ' ')}:</span> <span class="font-semibold">${value.toLocaleString()}</span></div>`;
                });
                costsHtml += '</div>';
                statsOutput.innerHTML += costsHtml;
            }

            // Render Stats
            const statsOrder = ['Infantry', 'Cavalry', 'Archer', 'Siege', 'Troop'];
            statsOrder.forEach(troopType => {
                const attack = totalStats[`${troopType}_Attack`] || 0;
                const defense = totalStats[`${troopType}_Defense`] || 0;
                const health = totalStats[`${troopType}_Health`] || 0;

                if (attack > 0 || defense > 0 || health > 0) {
                    hasContent = true;
                    let statsHtml = `<h3 class="font-bold text-lg text-white mt-4">${troopType} Stats</h3>`;
                    statsHtml += '<div class="space-y-1 pl-2">';
                    if (attack > 0) statsHtml += `<div class="flex justify-between"><span>Attack:</span> <span class="font-semibold text-green-400">+${attack.toFixed(2)}%</span></div>`;
                    if (defense > 0) statsHtml += `<div class="flex justify-between"><span>Defense:</span> <span class="font-semibold text-green-400">+${defense.toFixed(2)}%</span></div>`;
                    if (health > 0) statsHtml += `<div class="flex justify-between"><span>Health:</span> <span class="font-semibold text-green-400">+${health.toFixed(2)}%</span></div>`;
                    statsHtml += '</div>';
                    statsOutput.innerHTML += statsHtml;
                }
            });
            
            // Render Effects
            if (allEffects.length > 0) {
                 hasContent = true;
                 let effectsHtml = `<h3 class="font-bold text-lg text-white mt-4">Special Effects</h3>`;
                 effectsHtml += '<div class="space-y-3 pl-2">';
                 allEffects.forEach(({name, effect}) => {
                     effectsHtml += `<div><span class="font-semibold text-sm brand-purple">${name}</span><p class="text-xs text-gray-300">${effect}</p></div>`;
                 });
                 effectsHtml += '</div>';
                 statsOutput.innerHTML += effectsHtml;
            }

            if (!hasContent) {
                statsOutput.innerHTML = '<p class="text-gray-500">Select equipment to see total stats...</p>';
            }
        }

        function populateModal(slot, searchTerm = '') {
            currentSlot = slot;
            let slotType = slot.replace(/_\d/,'');
            if (slotType === 'Legs') slotType = 'Pants';
            
            modalTitle.textContent = `Select ${slotType}`;
            gearModal.innerHTML = '';

            const filteredGear = allGear.filter(g => 
                g.Equipment_Type === slotType && 
                g.Gear_Name.toLowerCase().includes(searchTerm.toLowerCase())
            );

            filteredGear.forEach(gear => {
                const rarityClass = `rarity-${gear.Level}`;
                gearModal.innerHTML += `
                    <div class="p-3 glassmorphism rounded-xl text-center cursor-pointer hover:bg-gray-700/70 transition-colors" data-gear-name="${gear.Gear_Name}">
                        <div class="relative">
                           <img src="${gear.Images}" alt="${gear.Gear_Name}" class="h-16 w-16 mx-auto rounded-md">
                           <div class="absolute -top-1 -right-1 bg-gray-900 rounded-full px-1.5 py-0.5 text-xs font-bold border ${rarityClass}">${gear.Level.substring(0,1)}</div>
                        </div>
                        <p class="mt-2 text-xs font-semibold">${gear.Gear_Name}</p>
                    </div>
                `;
            });
        }
        
        // --- EVENT HANDLERS ---
        function handleSlotClick(e) {
            const slotElement = e.target.closest('[data-slot]');
            if (slotElement && !e.target.classList.contains('refine-checkbox')) {
                const slot = slotElement.dataset.slot;
                searchInput.value = '';
                populateModal(slot);
                modalBackdrop.classList.remove('hidden');
            }
        }

        function handleGearSelect(e) {
            const gearElement = e.target.closest('[data-gear-name]');
            if (gearElement) {
                const gearName = gearElement.dataset.gearName;
                const newGear = { ...allGear.find(g => g.Gear_Name === gearName), refined: false };
                selectedGear[currentSlot] = newGear;
                closeModal();
                renderAll();
            }
        }
        
        function handleRefine(e) {
             const refineCheckbox = e.target.closest('.refine-checkbox');
             if(refineCheckbox) {
                 e.stopPropagation(); 
                 const slot = refineCheckbox.dataset.slot;
                 const gear = selectedGear[slot];
                 if(gear) {
                     gear.refined = refineCheckbox.checked;
                     renderAll();
                 }
             }
        }

        function closeModal() {
            modalBackdrop.classList.add('hidden');
        }

        function handleReset() {
            selectedGear = {};
            renderAll();
        }
        
        function renderAll() {
            renderLayout();
            renderStats();
        }

        // --- INITIALIZATION ---
        function init() {
            try {
                allGear = csvToJson(rawCsvData);
                renderAll();

                layoutContainer.addEventListener('click', handleSlotClick);
                layoutContainer.addEventListener('change', handleRefine);
                closeModalButton.addEventListener('click', closeModal);
                modalBackdrop.addEventListener('click', (e) => {
                    if(e.target === modalBackdrop) closeModal();
                });
                gearModal.addEventListener('click', handleGearSelect);
                searchInput.addEventListener('input', () => populateModal(currentSlot, searchInput.value));
                resetButton.addEventListener('click', handleReset);
            } catch (error) {
                console.error("Failed to load or process gear data:", error);
                layoutContainer.innerHTML = `<p class="text-red-500">Error: Could not process the embedded CSV data.</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
